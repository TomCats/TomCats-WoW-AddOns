--[[ See license.txt for license and copyright information ]]
select(2, ...).SetupGlobalFacade()

-- Lua core functions
AddAllowedGlobals({
	"assert",
	"error",
	"ipairs",
	"loadstring",
	"math",
	"next",
	"pairs",
	"print",
	"setmetatable",
	"tonumber",
	"tostring",
	"type",
	"select",
	"string",
	"table",
	"tinsert",
	"unpack",
	"xpcall",
})

-- Blizzard-owned variables
AddAllowedGlobals({
	--"ACCEPT_ALT",
	--"AnchorUtil",
	--"BaseMapPoiPinMixin",
	"C_PlayerInfo",
	"C_Timer",
	--"CALENDAR_TYPE_DUNGEON",
	--"CALENDAR_TYPE_RAID",
	"CancelEmote",
	"Clamp",
	"CollapseQuestHeader",
	"ColorMixin",
	"CreateFromMixins",
	"CreateRectangle",
	--"CreateVector2D",
	"DoEmote",
	"EventRegistry",
	"ExpandQuestHeader",
	"FrameDeltaLerp",
	"FramePool_HideAndClearAnchors",
	"GameFontDisableSmallLeft",
	"GameFontHighlightSmallLeft",
	"GameFontNormalSmallLeft",
	"GameTooltip", -- todo: reevaluate for potential taint
	"GameTooltipTextLeft1",
	"GetAddOnMetadata",
	"GetCursorPosition",
	--"GetDifficultyInfo",
	"GetFinalNameFromTextureKit",
	--"GetInstanceInfo",
	--"GetLocale",
	--"GetMouseFocus",
	"GetMoney",
	"GetNumQuestLeaderBoards",
	"GetNumQuestLogEntries",
	"GetNumSubgroupMembers",
	"GetQuestGreenRange",
	"GetQuestLogLeaderBoard",
	"GetQuestLogTitle",
	"GetScreenHeight",
	"GetScreenWidth",
	"GetServerTime",
	"GetTickTime",
	"GetValueOrCallFunction",
	"HelpPlateTooltip",
	"HideUIPanel",
	"HOME",
	--"IsInInstance",
	--"IsTutorialFlagged",
	"Kiosk",
	"Lerp",
	"MAP_AND_QUEST_LOG",
	"max",
	--"MaximizeUIPanel",
	"Mixin",
	"nop",
	"PercentageBetween",
	"PlayerMovementFrameFader",
	"PlaySound",
	"QuestDifficultyColors",
	"QuestDifficultyHighlightColors",
	"QuestFrame_HideQuestPortrait",
	"RestoreUIPanelArea",
	"Saturate",
	"ScrollFrame_OnLoad",
	"SecondsFormatter",
	"SecondsFormatterMixin",
	--"SECONDS_PER_MIN",
	"SetPortraitToTexture",
	"SetUIPanelAttribute",
	"ShowUIPanel",
	"SortQuests",
	"SortQuestSortTypes",
	"SOUNDKIT",
	"StaticPopup_Hide",
	"StaticPopup_Show",
	--"StaticPopupDialogs",
	--"time",
	"UIPanelWindows",
	"UIParent",
	--"UnitFactionGroup",
	"UnitLevel",
	"UnitPosition",
	"UpdateUIPanelPositions",
	"WORLD",
	"WorldMapContinentDropDown",
	"WorldMapFrame",
	"WorldMapFrameBg",
	"WorldMapFrameCloseButton",
	"WorldMapMagnifyingGlassButton",
	"WorldMapZoneDropDown",
	"WorldMapZoneMinimapDropDown",
	"WorldMapZoomOutButton",
})

-- Addon-specific variables
AddAllowedGlobals({
	--"TomCats_Static_Popup",
})

-- Renamed globals
AddRenamedGlobals({
	"CloseDropDownMenus",
	"DropDownExpandArrowMixin",
	"DropDownMenuButtonMixin",
	--"DungeonEntrancePinMixin",
	"QuestLogHeaderMixin",
	"QuestLogHeaderCodeMixin",
	"Main_HelpPlate_Button_OnEnter",
	"Main_HelpPlate_Button_OnLeave",
	--"MapCanvasMixin",
	--"MapCanvasScrollControllerMixin",
	"MaximizeMinimizeButtonFrameMixin",
	--"MiniMapInstanceDifficulty",
	--"MiniMapInstanceDifficulty_Update",
	"NavBar_ToggleMenu",
	"NineSlicePanelMixin",
	"OverrideButtonAtlases",
	"PortraitFrameMixin",
	"QuestDetailsFrame_OnHide",
	"QuestDetailsFrame_OnShow",
	"QuestLogMixin",
	"QuestLogObjectiveTemplate",
	--"QuestLogOwnerMixin",
	--"QuestLogPopupDetailFrame",
	"QuestLogPopupDetailFrame_OnHide",
	"QuestLogPopupDetailFrame_OnLoad",
	"QuestMapFrame",
	"QuestMapFrame_OnEvent",
	"QuestMapFrame_OnHide",
	"QuestMapFrame_OnLoad",
	"QuestMapFrame_OnShow",
	"QuestMapLog_HideStoryTooltip",
	"QuestMapLog_ShowStoryTooltip",
	"QuestMapLogTitleButton_OnClick",
	"QuestMapLogTitleButton_OnEnter",
	"QuestMapLogTitleButton_OnLeave",
	"QuestMapLogTitleButton_OnMouseDown",
	"QuestMapLogTitleButton_OnMouseUp",
	"QuestMapQuestOptionsDropDown",
	--"QuestMapQuestOptionsDropDown_OnLoad",
	--"QuestPOI_Initialize",
	"QuestScrollFrame",
	"QuestsFrame_OnLoad",
	--"UIDROPDOWNMENU_MAXBUTTONS",
	"UIDropDownMenu_OnClick",
	"UIDropDownMenu_OnHide",
	"UIDropDownMenu_OnShow",
	"UIDropDownMenu_OnUpdate",
	--"UIDropDownMenu_StartCounting",
	--"UIDropDownMenu_StopCounting",
	"UIDropDownMenuButton_OnClick",
	"UIDropDownMenuButton_OnEnter",
	"UIDropDownMenuButton_OnLeave",
	--"UIDropDownMenuButtonInvisibleButton_OnEnter",
	--"UIDropDownMenuButtonInvisibleButton_OnLeave",
	--"WorldMapFloorNavigationFrameMixin",
	--"WorldMapMixin",
	"WorldMapTutorialMixin",
	"WorldMapNavBarMixin",
	"WorldMapSidePanelToggleMixin",
	--"WorldMapTrackingOptionsButtonMixin",
})

-- dynamically created variables
AddDynamicallyRenamedGlobals({
	"^DropDownList[0-9]+.*$",
})
