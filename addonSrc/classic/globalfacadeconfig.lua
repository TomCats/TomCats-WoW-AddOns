--[[ See license.txt for license and copyright information ]]
select(2, ...).SetupGlobalFacade()

-- Lua core functions
AddAllowedGlobals({
	"assert",
	"error",
	"ipairs",
	"loadstring",
	"math",
	"next",
	"pairs",
	"print",
	"setmetatable",
	"tonumber",
	"tostring",
	"type",
	"select",
	"string",
	"table",
	"tinsert",
	"unpack",
	"xpcall",
})

-- Blizzard-owned variables
AddAllowedGlobals({
	--"ACCEPT_ALT",
	--"AnchorUtil",
	--"BaseMapPoiPinMixin",
	"C_Timer",
	--"CALENDAR_TYPE_DUNGEON",
	--"CALENDAR_TYPE_RAID",
	--"Clamp",
	"CreateFromMixins",
	--"CreateRectangle",
	--"CreateVector2D",
	--"DoEmote",
	--"Enum",
	--"EventRegistry",
	--"FramePool_HideAndClearAnchors",
	--"GameFontDisableSmallLeft",
	--"GameFontHighlightSmallLeft",
	--"GameFontNormalSmallLeft",
	--"GameTooltip", -- todo: reevaluate for potential taint
	"GetAddOnMetadata",
	--"GetCursorPosition",
	--"GetDifficultyInfo",
	"GetFinalNameFromTextureKit",
	--"GetInstanceInfo",
	--"GetMouseFocus",
	--"GetScreenHeight",
	--"GetScreenWidth",
	"GetServerTime",
	--"GetLocale",
	--"GetValueOrCallFunction",
	--"HOME",
	--"IsInInstance",
	--"IsTutorialFlagged",
	--"Kiosk",
	--"Lerp",
	--"MAP_AND_QUEST_LOG",
	--"max",
	--"MaximizeUIPanel",
	--"nop",
	--"PercentageBetween",
	--"PlayerMovementFrameFader",
	--"PlaySound",
	--"RestoreUIPanelArea",
	--"Saturate",
	--"ScrollFrame_OnLoad",
	--"SecondsFormatter",
	--"SecondsFormatterMixin",
	--"SECONDS_PER_MIN",
	--"SetPortraitToTexture",
	--"SetUIPanelAttribute",
	--"ShowUIPanel",
	--"SOUNDKIT",
	--"StaticPopup_Show",
	--"StaticPopupDialogs",
	--"time",
	--"UIParent",
	--"UnitFactionGroup",
	"UnitPosition",
	--"UpdateUIPanelPositions",
	--"WORLD",
	--"WorldMapContinentDropDown",
	--"WorldMapFrame",
	--"WorldMapFrameCloseButton",
	--"WorldMapMagnifyingGlassButton",
	--"WorldMapZoneDropDown",
	--"WorldMapZoneMinimapDropDown",
	--"WorldMapZoomOutButton",
})

-- Addon-specific variables
AddAllowedGlobals({
	--"TomCats_Static_Popup",
	--"TomCats_WorldMapFrame",
	--"TomCats_WorldMapFrameBg",
})

-- Renamed globals
AddRenamedGlobals({
	--"CloseDropDownMenus",
	--"DropDownExpandArrowMixin",
	--"DropDownMenuButtonMixin",
	--"DungeonEntrancePinMixin",
	--"MapCanvasMixin",
	--"MapCanvasScrollControllerMixin",
	"MaximizeMinimizeButtonFrameMixin",
	--"MiniMapInstanceDifficulty",
	--"MiniMapInstanceDifficulty_Update",
	--"NavBar_ToggleMenu",
	"NineSlicePanelMixin",
	"PortraitFrameMixin",
	--"QuestDetailsFrame_OnHide",
	--"QuestDetailsFrame_OnShow",
	--"QuestLogMixin",
	--"QuestLogOwnerMixin",
	--"QuestLogPopupDetailFrame",
	--"QuestLogPopupDetailFrame_OnHide",
	--"QuestLogPopupDetailFrame_OnLoad",
	--"QuestMapFrame",
	--"QuestMapFrame_OnEvent",
	--"QuestMapFrame_OnHide",
	--"QuestMapFrame_OnLoad",
	--"QuestMapFrame_OnShow",
	--"QuestMapLog_HideStoryTooltip",
	--"QuestMapLog_ShowStoryTooltip",
	--"QuestMapQuestOptionsDropDown",
	--"QuestMapQuestOptionsDropDown_OnLoad",
	--"QuestPOI_Initialize",
	--"QuestScrollFrame",
	--"QuestsFrame_OnLoad",
	--"UIDROPDOWNMENU_MAXBUTTONS",
	--"UIDropDownMenu_OnClick",
	--"UIDropDownMenu_OnHide",
	--"UIDropDownMenu_OnShow",
	--"UIDropDownMenu_OnUpdate",
	--"UIDropDownMenu_StartCounting",
	--"UIDropDownMenu_StopCounting",
	--"UIDropDownMenuButton_OnClick",
	--"UIDropDownMenuButton_OnEnter",
	--"UIDropDownMenuButton_OnLeave",
	--"UIDropDownMenuButtonInvisibleButton_OnEnter",
	--"UIDropDownMenuButtonInvisibleButton_OnLeave",
	--"WorldMapFloorNavigationFrameMixin",
	--"WorldMapMixin",
	--"WorldMapNavBarMixin",
	--"WorldMapSidePanelToggleMixin",
	--"WorldMapTrackingOptionsButtonMixin",
})

-- dynamically created variables
AddDynamicallyRenamedGlobals({
	--"^DropDownList[0-9]+.*$",
})
